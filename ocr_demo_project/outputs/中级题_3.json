{
  "question": "根据文档《2024_Communications-Based Train Control》，图 5.11 所示的网状控制回路结构，ATO 子系统是如何实现自身的控制回路的？请阐述其如何获取输入（Messglieder），如何形成车辆轨迹（Fahrzeugtrajektorie），以及如何将轨迹作为目标值传递给列车的控制设备（Steuergerät）。",
  "retrieved_contexts": [
    "[来源: 27_metro_train_control_systems.md]\nas a result the ATP is also designed to SIL 4. ATP equipment is situated trackside and on the train.\n\nATO is the subsystem that drives the train between stations within the constraints established by the ATP subsystem. The functionality of the ATO will vary depending on the grade of automation – if the railway is fully automated the ATO will need to replace all the functions of the driver in normal operation, degraded, emergency and fault modes. Actions are either automated or remotely controlled from the control centre. The ATO replaces the train operator but one of the goals for automated systems is to eliminate the errors that humans introduce, so the ATO subsystem is typically defined as a SIL 2 system. Allocation of SIL to the subsystems has varying approaches, in that respect metros are no different to other railways, a balance is struck following the requirements and guidance from governing standards, but that outcome is not identical for what may appear to be the same system function.\n\nATP systems need to know both where the train is, and how fast it is moving, to a high degree of accuracy all the time. CBTC solutions are moving block systems where the available block length to the train ahead or other obstruction determines the maximum speed a train can travel and as the train ahead moves so does the available block. This means that safe operation is entirely dependent upon having this information available all the time so the decision not to apply the emergency brakes can be made. This is typically achieved by combining\n\n<div style=\"text-align: center;\">Figure 1 – Simplified block diagram of a typical metro train control system.</div>\n\n<div style=\"text-align: center;\"><img src=\"https://pplines-online.bj.bcebos.com/deploy/official/paddleocr/pp-ocr-vl//22567d14-6762-4606-b0fb-d01e6d3ef66f/markdown_0/imgs/img_in_image_box_0_1074_1191_1684.jpg?authorization=bce-auth-v1%2F5cfe9a5e1454405eb2a975c43eace6ec%2F2025-11-17T00%3A04%3A52Z%2F-1%2F%2F6028c61c8db62622fbdc750c75f707ba4af27239364d0079473986dd30857389\" alt=\"Image\" width=\"100%\" /></div>\n\n---\n\n<div style=\"text-align: center;\">Figure 2 – Grades of automation and the differences between them.</div>",
    "[来源: T_CAMET 04010.1-2018-城市轨道交通 基于通信的列车运行控制系统(CBTC)互联互通系统规范 第1部分 系统总体要求.md]\n# 5.1.4 ATO 子系统功能要求\n\n5.1.4.1 ATO 子系统在 ATP 子系统的保护下，自动驾驶列车，根据 ATS 子系统的命令，实现列车在区间运行的自动调整，并可实现列车的节能运行控制。\n\n5.1.4.2 ATO 子系统可控制列车按运行图规定的区间走行时分行车，自动完成对列车的启动、加速、巡航、惰行、减速和制动的合理控制。\n\n---\n\n5.1.4.3 在 AM 模式下，ATO 子系统可根据 ATS 的调整指令控制区间走行时分，达到列车运行自动调整的目的。\n\n5.1.4.4 ATO 子系统向 ATS 子系统发送列车运行信息，以便 ATS 子系统能对在线列车进行监控。\n\n5.1.4.5 ATO 子系统实现在车站站台定点停车的功能。\n\n5.1.4.6 列车停稳于车站规定位置，ATO 子系统可向列车发送开车门命令，并由 ATP 车载设备向 CI 轨旁设备发送开启与车门对应站台门的命令。\n\n5.1.4.7 ATO 子系统应与 ATS 子系统和 ATP 子系统结合，合理地控制列车的牵引、制动和惰行，达到节能要求。\n\n5.1.4.8 ATO 子系统在正常运行时，应保证列车在曲线上运行的未被平衡的离心加速度不超过  $ 0.4 \\, m/s^{2} $ 。\n\n5.1.4.9 列车进站时ATO子系统应采用一次连续制动模式，制动至目标停车点，中途不得缓解，且在进站前不应有非线路限速要求的减速台阶。\n\n5.1.4.10 列车在区间停车时, ATO 子系统应采用一次性连续制动模式。\n\n5.1.4.11 AM 模式下，列车方向停车后，满足发车条件时，ATO 子系统可自动启动列车运行。",
    "[来源: T_CAMET 04012.1-2018-城市轨道交通 基于通信的列车运行控制系统(CBTC)互联互通测试规范第l部分-CBTC部分测试及验证.md]\n============================================================\n【表 1 功能分配表(续)】\n============================================================\n\n【表格数据】\n  序号 | 功能点 | 子功能点描述 | 点式 | 连续式 | 设计与实现 | 室内平台 | 试验线\n  38 | 确定ATO曲线 | 确定ATO曲线、CBTC系统应为列车确定ATO曲线。ATO子系统在ATP子系统的保护下，根据ATS子系统的命令，实现对列车的自动驾驶、列车在区间运行的自动调整，并可实现列车的节能运行控制。ATO子系统可控制列车按运行图规定的区间走行时分行车，自动完成对列车的启动、加速、巡航、惰行、减速和制动的合理控制 | ✓ | ✓ | ✓ | ✓ | ✓\n  39 | 精确停车 | 列车进站精确停车。ATO子系统应具备列车进站自动精确停车功能，并支持不同编组的列车可以停靠的不同的停车位置 | ✓ | ✓ | ✓ | ✓ | ✓\n  40 | 根据ATO曲线调整列车速度 | 列车调速、CBTC系统应根据。ATO曲线调整列车速度 | ✓ | ✓ | ✓ | ✓ | ✓\n  41 | 跳停 | ATO能够响应ATS系统设置的跳停命令 | — | ✓ | ✓ | ✓ | ✓\n  42 | 运营调整 | 在AM模式下，ATO子系统可根据ATS的调整指令控制区间走行时分，达到列车运行自动调整的目的 | — | ✓ | ✓ | ✓ | ✓\n\n\n============================================================\n\n---",
    "[来源: T_CAMET 04010.2-2018-城市轨道交通 基于通信的列车运行控制系统(CBTC)互联互通系统规范 第2部分-系统架构和功能分配.md]\n | X | X\n\n\n============================================================\n\n---\n\n### 6.11 自诊断、故障报警及数据记录\n\nATP 车载设备具备自诊断、故障报警及列车运行重要数据的记录功能，并可通过离线设备打印。记录的内容包括事件的时间和日期，并保存7天，保存的数据可实现上传，并宜实现自动转存。记录内容包括：设备运行状况、行车里程、控制情况、驾驶模式、速度、列车日检数据。表56规定了自诊断、故障报警及数据记录的内容。\n\n============================================================\n【表 56 自诊断、故障报警及数据记录】\n============================================================\n\n【表格数据】\n  功能分配 | 输入 | 实现 | 输出\n  ATS |  |  | X\n  CBTC轨旁 |  |  | \n  CBTC车载 | X | X | \n\n\n============================================================\n\n## 7 ATO 功能分配\n\n### 7.1 功能描述\n\nATO 主要功能如图 11 所示。\n\n### 7.2 确定 ATO 曲线\n\n#### 7.2.1 为启动、停止、调速，确定 ATO 曲线\n\nCBTC 系统应为列车确定 ATO 曲线 ATO 子系统在 ATP 子系统的保护下，根据 ATS 子系统的命令，实现对列车的自动驾驶、列车在区间运行的自动调整，并可实现列车的节能运行控制 ATO 子系统可控制列车按运行图规定的区间走行时分行车，自动完成对列车的启动、加速、巡航、惰行、减速和制动的合理控制。表 57 规定了 ATO 曲线的内容。\n\n---\n\n============================================================\n【表 57 确定 ATO 曲线】\n============================================================\n\n【表格数据】\n  功能分配 | 输入 | 实现 | 输出\n  ATS | X |  | \n  CBTC轨旁 |  |  | \n  CBTC车载 | X | X | X\n\n\n============================================================\n\n#### 7.2.2 列车进站精确停车\n\nATO 子系统应具备列车进站精确停车功能，不同编组的列车可以停靠的不同的停车位置。表 58 规定了列车进站精确停车的内容。\n\n---",
    "[来源: GB∕T 12758-2023 城市轨道交通信号系统通用技术条件.md]\n的使能及指令。\n\n---\n\n7.2.2.24 存在直交流牵引供电制式转换需求的线路，信号系统可根据需要向车辆提供转换控制的使能及指令。\n\n### 7.3 列车自动运行\n\n#### 7.3.1 功能要求\n\n7.3.1.1 应自动或人工启动列车并实现站间自动运行。\n\n7.3.1.2 应控制列车实现车站定点停车、车站通过和有司机监督或无司机监督的折返作业。\n\n7.3.1.3 与行车指挥控制子系统相结合，应实现列车运行自动调整。\n\n7.3.1.4 应具有车门和站台屏蔽门开闭的自动控制功能。\n\n7.3.1.5 应具有列车运行节能控制功能。\n\n7.3.1.6 FAO 线路 ATO 子系统除应具备 7.3.1.1～7.3.1.5 的功能外，还应具备下列功能：\n\na）远程和本地唤醒、休眠功能；\n\nb）全自动进出车辆基地、自动对位调整、自动站台发车、全自动折返功能；\n\nc) 清客功能；\n\nd）配合车门与站台屏蔽门实现对位隔离功能；\n\ne） 可实现蠕动运行模式、远程限速运行功能；\n\nf） 可实现自动洗车功能。\n\n#### 7.3.2 技术要求\n\n7.3.2.1 应在 ATP 子系统防护下实现自动运行功能。\n\n7.3.2.2 应能控制列车实现牵引、制动、惰行、匀速运行等多种运行工况，并满足不同行车间隔的运行要求和列车运行调整的需要。\n\n7.3.2.3 列车停车控制过程应满足舒适度、快捷性和停车精度的要求。\n\n7.3.2.4 ATO 子系统不应同时输出制动指令和牵引指令。\n\n7.3.2.5 当 ATO 子系统发生故障时，应能给出报警提示，并能转为人工控制。"
  ],
  "answer": "根据提供的文档片段，我对ATO子系统的控制回路实现进行跨文档对比和分析，结构化呈现如下：\n\n1. 输入获取（Messglieder）：\n- 主要输入源：\n   * ATP子系统提供的安全约束（速度/位置信息，SIL4级，片段1）\n   * ATS子系统发送的运行图/调整指令（片段2 5.1.4.3、片段3表1-42）\n   * 车载传感器数据（未明确描述但隐含在控制回路中）\n\n2. 车辆轨迹生成（Fahrzeugtrajektorie）：\n- 核心功能：\n   * 根据运行图计算区间走行时分（片段2 5.1.4.2）\n   * 动态调整曲线（片段3表1-38、片段4表57）\n   * 节能算法集成（片段2 5.1.4.7、GB/T 12758 7.3.1.5）\n- 关键约束：\n   * 离心加速度≤0.4m/s²（片段2 5.1.4.8）\n   * 一次连续制动原则（片段2 5.1.4.9-10）\n\n3. 目标值传递（Steuergerät）：\n- 输出机制：\n   * 牵引/制动/惰行指令（片段4表57输出项）\n   * 精确停车控制（片段3表1-39）\n   * 车门联动指令（片段2 5.1.4.6）\n- 安全防护：\n   * 指令需通过ATP校验（GB/T 12758 7.3.2.1）\n   * 禁止制动/牵引冲突（GB/T 12758 7.3.2.4）\n\n版本差异分析：\n1. 自动化等级差异：\n- 基础ATO（片段2）vs FAO增强功能（GB/T 12758 7.3.1.6）：\n   * 新增远程唤醒、自动洗车等特殊模式\n   * 车辆基地全自动运行要求\n\n2. 测试要求演进：\n- 片段3测试规范明确要求：\n   * ATO曲线验证需覆盖点式/连续式（表1-38）\n   * 跳停功能仅限连续式CBTC（表1-41）\n\n推理过程：\n1. 控制回路闭环形成：\n   ATP安全数据 → ATS调度指令 → 轨迹计算 → 控制指令 → ATP校验 → 车辆执行 → 状态反馈\n\n2. 关键设计原则：\n   - 安全层（ATP）与效率层（ATO）分离（片段1 SIL等级差异）\n   - 移动块系统特性要求实时更新轨迹（片段1 CBTC说明）\n   - 互联互通标准强调功能分配标准化（片段4表57架构）\n\n注：由于未提供图5.11的具体内容，部分网状控制回路的拓扑细节无法确认。以上分析基于文档中明确描述的功能架构。"
}